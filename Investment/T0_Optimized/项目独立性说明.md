# T0_Optimized é¡¹ç›®ç‹¬ç«‹æ€§è¯´æ˜

## âœ… å®Œå…¨ç‹¬ç«‹ï¼Œä¸å†ä¾èµ–T0é¡¹ç›®

T0_Optimizedç°åœ¨æ˜¯ä¸€ä¸ª**å®Œå…¨ç‹¬ç«‹**çš„é¡¹ç›®ï¼Œæ‰€æœ‰å¿…è¦çš„èµ„æºéƒ½å·²é›†æˆï¼Œä¸å†éœ€è¦T0ç›®å½•ã€‚

## ğŸ“Š ç‹¬ç«‹æ€§å¯¹æ¯”

### âŒ ä¹‹å‰ï¼ˆä¾èµ–T0ï¼‰
```
T0_Optimized/
â””â”€â”€ core/data_manager.py  â†’ ä¾èµ– ../T0/cache/fenshi_data/
```

é—®é¢˜ï¼š
- éœ€è¦T0ç›®å½•å­˜åœ¨
- è·¯å¾„è€¦åˆ
- æ— æ³•å•ç‹¬éƒ¨ç½²

### âœ… ç°åœ¨ï¼ˆå®Œå…¨ç‹¬ç«‹ï¼‰
```
T0_Optimized/
â”œâ”€â”€ cache/fenshi_data/           # æœ¬åœ°æ•°æ®ç¼“å­˜
â”‚   â”œâ”€â”€ 000333_20251024_fenshi.csv
â”‚   â”œâ”€â”€ 002415_20251024_fenshi.csv
â”‚   â””â”€â”€ 600030_20251024_fenshi.csv
â”‚
â”œâ”€â”€ db/                          # æœ¬åœ°æ•°æ®åº“
â”‚   â”œâ”€â”€ stocks/                 # åˆ†å±‚å­˜å‚¨
â”‚   â””â”€â”€ t0_trading.db           # å…¼å®¹æ•°æ®åº“
â”‚
â””â”€â”€ core/
    â”œâ”€â”€ data_manager.py         # âœ… ä½¿ç”¨æœ¬åœ°ç¼“å­˜
    â””â”€â”€ db_manager.py           # âœ… ä½¿ç”¨æœ¬åœ°ç¼“å­˜
```

ä¼˜åŠ¿ï¼š
- âœ… å®Œå…¨ç‹¬ç«‹éƒ¨ç½²
- âœ… æ— å¤–éƒ¨ä¾èµ–
- âœ… å¯ä»¥åˆ é™¤T0ç›®å½•

## ğŸ”„ å·²å®Œæˆçš„ç‹¬ç«‹åŒ–å·¥ä½œ

### 1. æ•°æ®æ–‡ä»¶å¤åˆ¶ âœ…
```bash
# å·²å®Œæˆï¼šå°†T0çš„ç¼“å­˜æ•°æ®å¤åˆ¶åˆ°æœ¬åœ°
T0/cache/fenshi_data/*.csv â†’ T0_Optimized/cache/fenshi_data/
```

ç»“æœï¼š
```
cache/fenshi_data/
â”œâ”€â”€ 000333_20251024_fenshi.csv  (20.8 KB)
â”œâ”€â”€ 002415_20251024_fenshi.csv  (20.9 KB)
â””â”€â”€ 600030_20251024_fenshi.csv  (20.9 KB)
```

### 2. ä»£ç è·¯å¾„æ›´æ–° âœ…

**data_manager.py**:
```python
# âŒ æ—§ä»£ç ï¼ˆä¾èµ–T0ï¼‰
cache_dir = '../T0/cache/fenshi_data'

# âœ… æ–°ä»£ç ï¼ˆä½¿ç”¨æœ¬åœ°ï¼‰
project_root = Path(__file__).parent.parent
cache_dir = project_root / 'cache' / 'fenshi_data'
```

**db_manager.py**:
```python
# âŒ æ—§ä»£ç ï¼ˆä»æ—§ç³»ç»Ÿè¯»å–ï¼‰
from data_manager import DataManager as OldDM
old_dm = OldDM()
df = old_dm.get_minute_data(...)

# âœ… æ–°ä»£ç ï¼ˆä»æœ¬åœ°CSVè¯»å–ï¼‰
cache_dir = project_root / 'cache' / 'fenshi_data'
for csv_file in cache_dir.glob('*.csv'):
    df = pd.read_csv(csv_file)
```

### 3. æ•°æ®åº“ç»“æ„ä¼˜åŒ– âœ…

**ä¼ ç»Ÿæ–¹å¼ï¼ˆDataManagerï¼‰**:
```
db/t0_trading.db
â”œâ”€â”€ stock_000333_date_20251024  (è¡¨)
â”œâ”€â”€ stock_002415_date_20251024  (è¡¨)
â””â”€â”€ stock_600030_date_20251024  (è¡¨)
```

**åˆ†å±‚æ–¹å¼ï¼ˆDBManagerï¼Œæ¨èï¼‰**:
```
db/stocks/
â”œâ”€â”€ 000333/2025/202510.db
â”‚   â””â”€â”€ day_20251024  (è¡¨)
â”œâ”€â”€ 002415/2025/202510.db
â”‚   â””â”€â”€ day_20251024  (è¡¨)
â””â”€â”€ 600030/2025/202510.db
    â””â”€â”€ day_20251024  (è¡¨)
```

## ğŸ“ å®Œæ•´çš„ç›®å½•ç»“æ„

```
T0_Optimized/                    # é¡¹ç›®æ ¹ç›®å½•
â”‚
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜ï¼ˆæ–°ï¼‰
â”œâ”€â”€ requirements.txt             # ä¾èµ–åˆ—è¡¨
â”‚
â”œâ”€â”€ cache/                       # æœ¬åœ°æ•°æ®ç¼“å­˜ âœ…
â”‚   â””â”€â”€ fenshi_data/
â”‚       â”œâ”€â”€ 000333_20251024_fenshi.csv
â”‚       â”œâ”€â”€ 002415_20251024_fenshi.csv
â”‚       â””â”€â”€ 600030_20251024_fenshi.csv
â”‚
â”œâ”€â”€ core/                        # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ data_manager.py         # æ•°æ®ç®¡ç†å™¨ï¼ˆå•åº“ï¼‰ âœ…
â”‚   â”œâ”€â”€ db_manager.py           # æ•°æ®åº“ç®¡ç†å™¨ï¼ˆåˆ†å±‚ï¼‰ âœ…
â”‚   â”œâ”€â”€ indicator_loader.py     # æŒ‡æ ‡åŠ è½½å™¨
â”‚   â”œâ”€â”€ config_manager.py       # é…ç½®ç®¡ç†å™¨
â”‚   â”œâ”€â”€ strategy.py             # ç­–ç•¥å¼•æ“
â”‚   â”œâ”€â”€ trade_engine.py         # äº¤æ˜“å¼•æ“
â”‚   â””â”€â”€ auto_trader.py          # è‡ªåŠ¨äº¤æ˜“
â”‚
â”œâ”€â”€ db/                          # æ•°æ®åº“ç›®å½• âœ…
â”‚   â”œâ”€â”€ t0_trading.db           # ä¼ ç»Ÿæ•°æ®åº“
â”‚   â”œâ”€â”€ stocks/                 # åˆ†å±‚æ•°æ®åº“
â”‚   â”‚   â”œâ”€â”€ 000333/2025/202510.db
â”‚   â”‚   â”œâ”€â”€ 002415/2025/202510.db
â”‚   â”‚   â””â”€â”€ 600030/2025/202510.db
â”‚   â”œâ”€â”€ signals/                # äº¤æ˜“ä¿¡å·
â”‚   â”œâ”€â”€ config/                 # ç³»ç»Ÿé…ç½®
â”‚   â””â”€â”€ archive/                # å½’æ¡£æ•°æ®
â”‚
â”œâ”€â”€ æŸ¥çœ‹æ•°æ®åº“.py                # æ•°æ®åº“æŸ¥çœ‹å·¥å…·
â”œâ”€â”€ å¿«é€ŸæŸ¥è¯¢.py                  # å¿«é€ŸæŸ¥è¯¢å·¥å…·
â”‚
â””â”€â”€ docs/                        # æ–‡æ¡£ç›®å½•
    â”œâ”€â”€ å¿«é€Ÿå¼€å§‹.md
    â”œâ”€â”€ å®Œæ•´æ–‡æ¡£ç´¢å¼•.md
    â”œâ”€â”€ æ–°æ•°æ®åº“è®¾è®¡è¯´æ˜.md
    â”œâ”€â”€ æ•°æ®åº“ç›®å½•è§„åˆ’è¯´æ˜.md
    â””â”€â”€ é¡¹ç›®ç‹¬ç«‹æ€§è¯´æ˜.md  (æœ¬æ–‡ä»¶)
```

## ğŸš€ éªŒè¯ç‹¬ç«‹æ€§

### æµ‹è¯•1ï¼šDataManager
```bash
cd T0_Optimized
python core/data_manager.py
```

è¾“å‡ºï¼š
```
âœ… ä½¿ç”¨ç¼“å­˜ç›®å½•: E:\...\T0_Optimized\cache\fenshi_data
âœ… åœ¨ ... ä¸­æ‰¾åˆ° 3 ä¸ªCSVæ–‡ä»¶
âœ… 000333: æˆåŠŸå¯¼å…¥ 241 æ¡è®°å½•
âœ… 002415: æˆåŠŸå¯¼å…¥ 241 æ¡è®°å½•
âœ… 600030: æˆåŠŸå¯¼å…¥ 241 æ¡è®°å½•
```

### æµ‹è¯•2ï¼šDBManager
```bash
cd T0_Optimized
python core/db_manager.py
```

è¾“å‡ºï¼š
```
âœ… 000333: ä¿å­˜ 241 æ¡è®°å½• â†’ 202510.db/day_20251024
âœ… 002415: ä¿å­˜ 241 æ¡è®°å½• â†’ 202510.db/day_20251024
âœ… 600030: ä¿å­˜ 241 æ¡è®°å½• â†’ 202510.db/day_20251024

æ•°æ®åº“ç»Ÿè®¡:
æ€»æ–‡ä»¶æ•°: 3
æ€»å¤§å°: 0.20 MB
```

### æµ‹è¯•3ï¼šæŸ¥çœ‹æ•°æ®
```bash
cd T0_Optimized
python æŸ¥çœ‹æ•°æ®åº“.py
```

è¾“å‡ºï¼š
```
âœ… æ‰¾åˆ° 3 ä¸ªåˆ†æ—¶æ•°æ®è¡¨
âœ… 000333 - 20251024: 241 æ¡è®°å½•
âœ… 002415 - 20251024: 241 æ¡è®°å½•
âœ… 600030 - 20251024: 241 æ¡è®°å½•
```

## ğŸ’¡ ç°åœ¨å¯ä»¥åšä»€ä¹ˆ

### 1. å®Œå…¨åˆ é™¤T0ç›®å½• âœ…
```bash
# T0_Optimizedå·²å®Œå…¨ç‹¬ç«‹ï¼Œå¯ä»¥å®‰å…¨åˆ é™¤T0
rmdir /s Investment\T0
```

### 2. å•ç‹¬éƒ¨ç½² âœ…
```bash
# åªéœ€å¤åˆ¶T0_Optimizedç›®å½•å³å¯
copy T0_Optimized D:\Trading\
cd D:\Trading\T0_Optimized
python core/data_manager.py  # ç›´æ¥è¿è¡Œ
```

### 3. æ·»åŠ æ–°æ•°æ® âœ…
```bash
# ç›´æ¥æ·»åŠ åˆ°æœ¬åœ°cacheç›®å½•
copy æ–°æ•°æ®.csv T0_Optimized\cache\fenshi_data\
python core/data_manager.py  # è‡ªåŠ¨å¯¼å…¥
```

## ğŸ“ ä½¿ç”¨å»ºè®®

### æ¨èä½¿ç”¨DBManagerï¼ˆåˆ†å±‚ç»“æ„ï¼‰
```python
from core.db_manager import DBManager

db_mgr = DBManager()

# ä¿å­˜æ•°æ®
db_mgr.save_minute_data(df, '000333', '2025-10-24')

# æŸ¥è¯¢æ•°æ®
df = db_mgr.get_minute_data('000333', '2025-10-24')

# æŸ¥è¯¢æ•´æœˆ
df_month = db_mgr.get_month_data('000333', '202510')

db_mgr.close_all()
```

### å…¼å®¹ä½¿ç”¨DataManagerï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰
```python
from core.data_manager import DataManager

dm = DataManager()

# ä¿å­˜æ•°æ®
dm.save_minute_data(df, '000333', '2025-10-24')

# æŸ¥è¯¢æ•°æ®
df = dm.get_minute_data('000333', '2025-10-24')

dm.close()
```

## ğŸ¯ ç‹¬ç«‹æ€§æ£€æŸ¥æ¸…å•

- [x] æ•°æ®æ–‡ä»¶å·²å¤åˆ¶åˆ°æœ¬åœ° `cache/fenshi_data/`
- [x] `data_manager.py` ä½¿ç”¨æœ¬åœ°ç¼“å­˜è·¯å¾„
- [x] `db_manager.py` ä½¿ç”¨æœ¬åœ°ç¼“å­˜è·¯å¾„
- [x] æ•°æ®åº“æ–‡ä»¶å­˜å‚¨åœ¨æœ¬åœ° `db/`
- [x] æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œæ— T0ä¾èµ–
- [x] æ–‡æ¡£æ›´æ–°å®Œæˆ
- [x] README.md è¯´æ˜é¡¹ç›®ç‹¬ç«‹æ€§

## âœ… æ€»ç»“

T0_Optimizedç°åœ¨æ˜¯ä¸€ä¸ª**å®Œå…¨ç‹¬ç«‹**çš„é¡¹ç›®ï¼š

1. âœ… **æ•°æ®ç‹¬ç«‹**ï¼šæ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ° `cache/` å’Œ `db/`
2. âœ… **ä»£ç ç‹¬ç«‹**ï¼šä¸å¼•ç”¨T0ç›®å½•çš„ä»»ä½•æ–‡ä»¶
3. âœ… **åŠŸèƒ½å®Œæ•´**ï¼šåŒ…å«æ‰€æœ‰å¿…è¦çš„åŠŸèƒ½æ¨¡å—
4. âœ… **å¯å•ç‹¬éƒ¨ç½²**ï¼šæ— éœ€T0ç›®å½•å³å¯è¿è¡Œ
5. âœ… **å‘åå…¼å®¹**ï¼šä¿ç•™DataManagerå…¼å®¹æ—§ä»£ç 
6. âœ… **æ¨èæ–°è®¾è®¡**ï¼šDBManageræä¾›æ›´å¥½çš„æ€§èƒ½

**ä½ ç°åœ¨å¯ä»¥å®‰å…¨åœ°åªä¿ç•™T0_Optimizedç›®å½•ï¼**

---

**æœ€åæ›´æ–°**: 2025-10-26
**ç‰ˆæœ¬**: v2.0 (å®Œå…¨ç‹¬ç«‹ç‰ˆæœ¬)
