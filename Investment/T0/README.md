# T0交易策略系统

一个模块化、可扩展的T0交易策略系统，支持不同指标的应用和配置。

## 项目结构

```
T0/
├── indicators/          # 指标计算模块
│   └── tdx_indicators.py  # 通达信指标计算
├── data/                # 数据处理模块
│   └── data_handler.py   # 数据获取和缓存
├── visualization/       # 可视化模块
│   └── plotting.py       # 图表绘制功能
├── utils/               # 工具函数模块
│   └── tools.py          # 辅助功能（时间检查、通知等）
├── main.py              # 主程序入口
├── __init__.py          # 包初始化文件
├── requirements.txt     # 项目依赖
└── README.md            # 项目说明文档
```

## 功能模块

### 1. 指标计算模块 (indicators/)
- **tdx_indicators.py**: 实现通达信指标计算，包括H1/L1/P1、支撑位、阻力位和交易信号计算

### 2. 数据处理模块 (data/)
- **data_handler.py**: 处理股票数据的获取、缓存、预处理等功能
- 支持从akshare获取实时和历史数据
- 提供数据缓存机制，避免重复获取

### 3. 可视化模块 (visualization/)
- **plotting.py**: 实现分时图的绘制，包括价格曲线、指标线和交易信号标记
- 支持交互式功能，如鼠标悬浮显示详情

### 4. 工具函数模块 (utils/)
- **tools.py**: 提供时间检查、信号通知等辅助功能
- 集成系统通知和钉钉通知功能

## 安装和配置

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 配置通知功能

确保已经配置好`notification.py`文件中的通知参数（如钉钉Webhook、邮件设置等）

## 使用方法

### 基本使用

直接运行主程序：

```bash
python main.py
```

### 自定义股票池

可以通过命令行参数指定要分析的股票代码：

```bash
python main.py 601398 600900 601728
```

### 修改源码配置

也可以直接在`main.py`中修改`stock_codes`参数来自定义股票池。

## 策略说明

当前系统实现了基于通达信指标的T0交易策略，主要包括：

1. **买入信号**：当价格跌破支撑位且出现交叉时
2. **卖出信号**：当价格突破阻力位且出现交叉时

系统会在交易时间内（9:30-11:30 和 13:00-15:00）每分钟运行一次分析，并在发现交易信号时发送通知。

## 扩展指南

### 添加新指标

要添加新的指标计算逻辑：

1. 在`indicators/`目录下创建新的指标计算文件
2. 实现指标计算函数
3. 在`main.py`中导入并使用新的指标

### 修改交易策略

要修改交易策略逻辑：

1. 修改`main.py`中的`analyze_stock`方法
2. 调整信号生成和过滤条件

## 注意事项

1. 本系统仅供参考，不构成投资建议
2. 请确保在交易时间运行系统
3. 定期更新数据和依赖包以确保系统正常运行
4. 使用前请备份好配置和数据文件

## 版本历史

- v1.0.0: 初始版本，实现基本的T0策略和模块化结构