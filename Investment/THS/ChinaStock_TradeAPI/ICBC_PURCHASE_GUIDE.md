# 工商银行股票买入操作指南

本文档提供了使用ChinaStock_TradeAPI和川财证券账户买入工商银行股票的详细步骤。

## 准备工作

1. **以管理员权限运行Visual Studio**：API需要管理员权限才能控制交易软件
2. **确保交易软件未运行**：运行程序前请关闭所有同花顺交易软件实例
3. **备份重要数据**：在进行任何交易操作前，请确保已备份重要数据

## 编译步骤

1. 打开Visual Studio
2. 打开项目文件：`pythonstock.vcxproj`
3. 将`test_icbc_purchase_user.cpp`添加到项目中
4. 设置项目为Release模式
5. 设置为活动启动项：右键点击`test_icbc_purchase_user.cpp`，选择"设为启动项"
6. 编译项目：按下F7或选择"生成" > "生成解决方案"

## 运行步骤

1. **确保以管理员权限运行**：右键点击编译后的可执行文件，选择"以管理员身份运行"
2. 程序会自动：
   - 启动同花顺交易软件
   - 提示您手动完成登录操作
   - 发送买入工商银行(601398)100股的委托

## 注意事项

1. **价格设置**：当前程序使用默认价格（即传入空字符串），系统会使用当前行情价格
2. **通讯密码**：如果您的账户需要通讯密码，但程序中未设置，可能导致自动登录失败。此时程序会等待您手动完成登录
3. **界面要求**：交易软件界面在操作期间**不能**被最小化或遮挡
4. **风险提示**：请在执行前确认所有交易参数正确无误
5. **交易时间**：请确保操作在交易时间内进行（上午9:30-11:30，下午13:00-15:00）

## 故障排除

1. **无法启动交易软件**
   - 检查快捷方式路径是否正确
   - 确认有足够权限运行交易软件

2. **登录失败**
   - 检查账号和密码是否正确
   - 如果需要通讯密码，请手动在交易软件中完成登录
   - 检查是否有验证码等额外验证步骤

3. **买入委托失败**
   - 确保交易软件界面可见且未被遮挡
   - 检查网络连接是否正常
   - 确认交易时间是否在有效期内
   - 检查账户资金是否充足

## 手动操作备选方案

如果自动操作失败，您可以手动在交易软件中：
1. 登录您的川财证券账户
2. 选择买入功能
3. 输入股票代码：601398（工商银行）
4. 输入买入价格（当前行情价）
5. 输入买入数量：100股
6. 点击买入按钮并确认

## 风险提示

**重要**：本程序仅作为技术演示使用，请在实际交易前充分测试并确认所有功能正常。交易有风险，投资需谨慎！