https://www.bigmodel.cn/dev/api/normal-model/glm-4

参数名称	类型	必填	参数描述
model	String	是	要调用的模型编码。
messages	List<Object>	是	调用语言模型时，当前对话消息列表作为模型的提示输入，以JSON数组形式提供，例如{"role": "user", "content": "Hello"}。可能的消息类型包括系统消息、用户消息、助手消息和工具消息。
request_id	String	否	由用户端传递，需要唯一；用于区分每次请求的唯一标识符。如果用户端未提供，平台将默认生成。
do_sample	Boolean	否	当do_sample为true时，启用采样策略；当do_sample为false时，温度和top_p等采样策略参数将不生效。默认值为true。
stream	Boolean	否	该参数在使用同步调用时应设置为false或省略。表示模型在生成所有内容后一次性返回所有内容。默认值为false。如果设置为true，模型将通过标准Event Stream逐块返回生成的内容。当Event Stream结束时，将返回一个data: [DONE]消息。
temperature	Float	否	采样温度，控制输出的随机性，必须为正数取值范围是：[0.0, 1.0]，默认值为0.95。
top_p	Float	否	温度取样的另一种方法，取值范围是：[0.0, 1.0]，默认值为0.7。
max_tokens	Integer	否	模型输出的最大token数，最大输出为4095，默认值为1024。
response_format	Object	否	指定模型输出格式，默认为 text,
{ "type": "text" }：文本输出模式，模型返回普通的文本输出。
{ "type": "json_object" }：JSON输出模式，模型返回有效的 JSON 输出。
Beta 版本采用工程实现方式，实现细节请参考说明文档 。
stop	List	否	模型遇到stop指定的字符时会停止生成。目前仅支持单个stop词，格式为["stop_word1"]。
tools	List	否	模型可以调用的工具。
  type	String	是	工具类型，目前支持 function、retrieval、web_search。

function: `Object` (必需): 仅当工具类型为 function 时补充。
 name: `String` (必需): 函数名称，只能包含 a-z、A-Z、0-9、下划线和连字符。最大长度限制为64。
 description: `String` (必需): 用于描述函数的能力。模型将根据此描述确定函数调用的方式。
 parameters: `Object` (必需): 参数字段必须传递一个Json Schema对象，以准确定义函数接受的参数。如果调用函数时不需要参数，则可以省略此参数。
"parameters": {
  "type": "object",
  "properties": { "location": {
    "type": "string",
    "description": "城市，例如：北京"
  },
  "unit": { "type": "string", "enum": ["celsius", "fahrenheit"] }
},
"required": ["location"]
}
更多详情：函数调用使用指南

retrieval: `Object`
描述: 仅当工具类型为 retrieval 时补充。
 knowledge_id: `String` (必需): 涉及知识库ID时，请前往开放平台的知识库模块创建或获取。
 prompt_template: `String` (非必需): 请求模型时的知识库模板，默认模板：
 ```从文档 "{{ knowledge }}" 中查找问题的答案 "{{question}}" 如果找到答案，仅使用文档的陈述来回答问题；如果未找到，则使用自己的知识回答，并告知用户此信息不是来自文档。不要重复问题，直接开始回答。```
用户自定义模板时，知识库内容占位符和用户端问题占位符必须分别为{{ knowledge }}和{{ question }};
更多详情：Retrieval使用指南

web_search: `Object`
描述: 仅当工具类型为 web_search 时补充，如果tools中存在type retrieval，则web_search将不生效。
 enable: `Boolean` (非必需): 网络搜索功能：默认为关闭状态（False）。启用搜索：设置为 `True`。禁用搜索：设置为 `False`。
 search_query: `String` (非必需): 强制自定义搜索键内容。
 search_result: `Boolean` (非必需): 获取网页搜索来源的详细信息。默认禁用。启用：true，禁用：false。
更多详情：web_search使用指南

tool_choice	String或Object	否	用于控制模型选择调用哪个函数的方式，仅在工具类型为function时补充。默认auto，目前仅支持auto。
user_id	String	否	终端用户的唯一ID，帮助平台对终端用户的非法活动、生成非法不当信息或其他滥用行为进行干预。ID长度要求：至少6个字符，最多128个字符。